<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Realistic Curtain Showcase</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #fff;
        }

        .stage {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: url('https://i.imgur.com/8I1YbQy.jpg') center center / cover no-repeat; /* Optional background texture */
        }

        /* Spotlights */
        .spotlight {
            position: absolute;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(0,0,0,0.8) 80%);
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 50px 20px rgba(255,255,255,0.2);
            animation: randomMove 10s linear infinite;
        }

        @keyframes randomMove {
            0% { transform: translate(0, 0); opacity: 0.6; }
            25% { transform: translate(80vw, 60vh); opacity: 0.4; }
            50% { transform: translate(20vw, 80vh); opacity: 0.5; }
            75% { transform: translate(70vw, 20vh); opacity: 0.3; }
            100% { transform: translate(0, 0); opacity: 0.6; }
        }

        /* Curtains */
        .curtain {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            background: linear-gradient(135deg, #8B0000, #B22222);
            box-shadow: inset -10px 0 30px rgba(0,0,0,0.5);
            cursor: pointer;
            transition: transform 0.5s ease;
            z-index: 3;
            overflow: hidden;
        }

        .curtain::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: url('https://i.imgur.com/3Z4F4Z5.png') repeat; /* Optional curtain texture */
            opacity: 0.8;
            top: 0;
            left: 0;
        }

        .left-curtain {
            left: 0;
            transform: translateX(0%);
        }

        .right-curtain {
            right: 0;
            transform: translateX(0%);
        }

        .open .left-curtain {
            transform: translateX(-100%);
        }

        .open .right-curtain {
            transform: translateX(100%);
        }

        /* Content */
        .content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 2;
            padding: 20px;
            max-width: 80%;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
        }

        .content h1 {
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px #000;
        }

        .content p {
            font-size: 1.5em;
            text-shadow: 1px 1px 4px #000;
        }

        /* Prevent text selection during drag */
        .no-select {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
    </style>
</head>
<body>
    <div class="stage no-select">
        <!-- Spotlights -->
        <div class="spotlight" style="animation-delay: 0s;"></div>
        <div class="spotlight" style="animation-delay: 5s;"></div>
        <div class="spotlight" style="animation-delay: 2.5s;"></div>
        <div class="spotlight" style="animation-delay: 7.5s;"></div>

        <!-- Curtains -->
        <div class="curtain left-curtain"></div>
        <div class="curtain right-curtain"></div>

        <!-- Content -->
        <div class="content">
            <h1>Welcome to the Grand Show</h1>
            <p>Edit this text in the HTML to display your own message.</p>
        </div>
    </div>

    <script>
        (function() {
            const stage = document.querySelector('.stage');
            const leftCurtain = document.querySelector('.left-curtain');
            const rightCurtain = document.querySelector('.right-curtain');
            const spotlights = document.querySelectorAll('.spotlight');
            let isDragging = false;
            let startX = 0;
            const curtainWidth = window.innerWidth / 2;
            let curtainsOpened = false;

            // Function to open curtains
            function openCurtains() {
                stage.classList.add('open');
                curtainsOpened = true;
                // Stop spotlight animations once curtains are opened
                spotlights.forEach(spot => {
                    spot.style.animationPlayState = 'paused';
                });
            }

            // Mouse Events
            stage.addEventListener('mousedown', function(e) {
                if (curtainsOpened) return;
                isDragging = true;
                startX = e.clientX;
                document.body.style.cursor = 'grabbing';
            });

            document.addEventListener('mousemove', function(e) {
                if (!isDragging || curtainsOpened) return;
                let dx = e.clientX - startX;
                // Limit the dragging to half the screen
                dx = Math.max(-curtainWidth, Math.min(curtainWidth, dx));
                leftCurtain.style.transform = `translateX(${dx}px)`;
                rightCurtain.style.transform = `translateX(${-dx}px)`;
            });

            document.addEventListener('mouseup', function(e) {
                if (!isDragging || curtainsOpened) return;
                isDragging = false;
                document.body.style.cursor = 'default';
                let dx = e.clientX - startX;
                // If dragged more than 100px, open curtains
                if (Math.abs(dx) > 100) {
                    openCurtains();
                } else {
                    // Return curtains to original position
                    leftCurtain.style.transform = 'translateX(0%)';
                    rightCurtain.style.transform = 'translateX(0%)';
                }
            });

            // Touch Events for mobile support
            stage.addEventListener('touchstart', function(e) {
                if (curtainsOpened) return;
                isDragging = true;
                startX = e.touches[0].clientX;
            });

            document.addEventListener('touchmove', function(e) {
                if (!isDragging || curtainsOpened) return;
                let dx = e.touches[0].clientX - startX;
                dx = Math.max(-curtainWidth, Math.min(curtainWidth, dx));
                leftCurtain.style.transform = `translateX(${dx}px)`;
                rightCurtain.style.transform = `translateX(${-dx}px)`;
            });

            document.addEventListener('touchend', function(e) {
                if (!isDragging || curtainsOpened) return;
                isDragging = false;
                let dx = e.changedTouches[0].clientX - startX;
                if (Math.abs(dx) > 100) {
                    openCurtains();
                } else {
                    leftCurtain.style.transform = 'translateX(0%)';
                    rightCurtain.style.transform = 'translateX(0%)';
                }
            });

            // Prevent selecting text while dragging
            stage.addEventListener('dragstart', function(e) {
                e.preventDefault();
            });

            // Randomize spotlight movements
            function randomizeSpotlights() {
                spotlights.forEach(spot => {
                    const duration = Math.random() * 5 + 5; // 5s to 10s
                    const delay = Math.random() * 5; // 0s to 5s
                    const size = Math.random() * 100 + 150; // 150px to 250px
                    const opacity = Math.random() * 0.3 + 0.3; // 0.3 to 0.6
                    const newAnimation = `
                        @keyframes spotlightMove_${Math.random().toString(36).substr(2, 9)} {
                            0% { 
                                transform: translate(${Math.random() * 100}vw, ${Math.random() * 100}vh); 
                                opacity: ${opacity};
                            }
                            50% { 
                                transform: translate(${Math.random() * 100}vw, ${Math.random() * 100}vh); 
                                opacity: ${opacity};
                            }
                            100% { 
                                transform: translate(${Math.random() * 100}vw, ${Math.random() * 100}vh); 
                                opacity: ${opacity};
                            }
                        }
                    `;
                    const styleSheet = document.createElement("style");
                    styleSheet.type = "text/css";
                    styleSheet.innerText = newAnimation;
                    document.head.appendChild(styleSheet);
                    spot.style.width = `${size}px`;
                    spot.style.height = `${size}px`;
                    spot.style.animation = `spotlightMove_${spot.style.animationDelay} ${duration}s linear infinite`;
                });
            }

            // Initial randomization
            //randomizeSpotlights(); // Not needed as we have predefined keyframes

            // Optionally, you can periodically randomize spotlights to keep the movement dynamic
            /*
            setInterval(randomizeSpotlights, 15000);
            */

        })();
    </script>
</body>
</html>
